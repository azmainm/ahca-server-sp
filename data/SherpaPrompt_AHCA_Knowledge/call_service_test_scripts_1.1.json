{
  "doc_id": "call_service_test_scripts",
  "title": "SherpaPrompt Automated Call Service: Test Scripts",
  "source_path": "Testing and Validation",
  "source_type": "kb",
  "version": "v1.0",
  "last_modified": "2025-10-10T12:52:24Z",
  "product_area": [
    "call_service"
  ],
  "access_tags": [
    "internal"
  ],
  "security_notes": "Contains only procedural test data. No live credentials or PII.",
  "sections": [
    {
      "section_id": "test_scripts#overview",
      "heading_level": 1,
      "heading": "Overview",
      "path": "Testing and Validation > Overview",
      "raw_markdown": "This document defines test procedures for validating SherpaPrompt's automated call service behaviors across all supported call types.\nEach script includes preconditions, execution steps, expected results, and verification methods.\n\n**Call Types Covered**\n1. Sales and Estimate Request\n2. Support and Troubleshooting\n3. Emergency and On Call Escalation\n4. Scheduling and Rescheduling\n5. Transcript to Task Integration\n6. Pricing and Tier Inquiry\n7. General Information and FAQ\n\nThese test scripts ensure consistent functionality across all automations and integrations with Microsoft Outlook, CRM, and estimating platforms.\n\nNote: Record evidence fields for each test: call_id, timestamps, request_id (if applicable), outcome_code. Attach message_id for any SMS or summary email.\n",
      "labels": {
        "intents": [
          "sales",
          "support",
          "scheduling",
          "emergency",
          "pricing",
          "faq"
        ],
        "audience_profiles": [
          "Trades",
          "Enterprise"
        ]
      },
      "policy_flags": {
        "sensitive": false,
        "pricing_unvalidated": false
      }
    },
    {
      "section_id": "test_scripts#sales_estimate",
      "heading_level": 2,
      "heading": "Test Case 1: Sales and Estimate Request",
      "path": "Testing and Validation > Sales and Estimate Request",
      "raw_markdown": "**Objective:** Verify that Scout successfully captures a new lead, qualifies service details, schedules an estimate, and sends recap communications.\n\n**Preconditions:**\n- CRM integration is active and writable.\n- Outlook Calendar is connected and can create events.\n\n**Steps:**\n1. Place a simulated inbound call from a new number.\n2. Provide name, address, and request (\"I need an estimate for a cedar fence.\").\n3. Agent confirms service area and offers appointment slots.\n4. Caller selects a time and confirms contact method (SMS or email).\n5. Agent books the estimate and sends a recap summary.\n6. Confirm caller timezone and business timezone if different.\n7. Verify calendar end time defaults to start + 1 hour unless specified.\n\n**Expected Result:**\n- New contact is created in CRM with Category = \"Booked\".\n- Calendar event appears with title \"On Site Estimate, SherpaPrompt\".\n- SMS or email recap sent within 60 seconds.\n- Event timezone recorded correctly; end time = start + 1 hour by default.\n- Outlook Contact Category updated according to funnel state (Qualified → Estimating → Booked as applicable).\n\n**Assertions**\n- Category transition logged in CRM/Outlook.\n- Recap delivery has message_id captured.\n- Event organizer is valid mailbox.\n\n**Verification Dialogue:**\nCaller: \"I need an estimate for a cedar fence.\"\nAgent: \"Thank you for calling SherpaPrompt. I can schedule that for you. May I have your name and address?\"\nCaller: \"Jordan Lee, 214 Oak Ridge Drive.\"\nAgent: \"Perfect, Jordan. We have an opening Thursday at 10:00 AM. Does that work for you?\"\nCaller: \"Yes.\"\nAgent: \"Great. Iâ€™ve scheduled your estimate for Thursday at 10:00 AM. Youâ€™ll receive a confirmation from SherpaPrompt by text.\"\n"
    },
    {
      "section_id": "test_scripts#support_troubleshooting",
      "heading_level": 2,
      "heading": "Test Case 2: Support and Troubleshooting",
      "path": "Testing and Validation > Support and Troubleshooting",
      "raw_markdown": "**Objective:** Confirm that Scout detects technical issues, gathers key information, and logs a case in CRM.\n\n**Preconditions:**\n- CRM writeback enabled for Support Cases.\n- Logging is active for call transcripts.\n\n**Steps:**\n1. Caller reports a sync issue (\"My estimate didnâ€™t sync to QuickBooks.\").\n2. Agent verifies caller, estimate number, and error message.\n3. Agent performs field check, re authenticates connector, and retries sync.\n4. Agent confirms resolution and sends a summary.\n\n**Expected Result:**\n- Support Case created in CRM with resolution note.\n- Cross reference IDs recorded in summary.\n- Recap sent via preferred channel.\n- Log fields include request_id and HTTP status code for the failing and succeeding sync attempts.\n\n**Verification Dialogue:**\nCaller: \"My estimate didnâ€™t sync to QuickBooks.\"\nAgent: \"I can help with that. May I have your estimate number or customer name?\"\nCaller: \"E17402 for Jordan Lee.\"\nAgent: \"Thank you. I see a field mismatch. Iâ€™ve corrected it and re synced. Itâ€™s now showing in QuickBooks. Youâ€™ll receive a summary from SherpaPrompt shortly.\"\n\n**Assertions**\n- Support case includes error reason and fix steps.\n- Cross-reference IDs (estimate_id, quote_id) present in recap.\n"
    },
    {
      "section_id": "test_scripts#emergency_escalation",
      "heading_level": 2,
      "heading": "Test Case 3: Emergency and On Call Escalation",
      "path": "Testing and Validation > Emergency and On Call Escalation",
      "raw_markdown": "**Objective:** Ensure immediate connection to SherpaPromptâ€™s on call staff through warm transfer and failover logic.\n\n**Preconditions:**\n- On call routing table configured (primary and backup numbers).\n- Failover SMS and summary email templates enabled.\n- Primary and secondary on-call destinations configured; transfer timeout set to 20 seconds; attempts per destination = 1.\n\n**Steps:**\n1. Caller states emergency (\"Water leak in the equipment room.\").\n2. Agent confirms urgency and asks for transfer permission.\n3. Attempt warm transfer to primary on call contact.\n4. Simulate no answer to test 20 second timeout.\n5. Validate secondary failover attempt.\n6. Confirm SMS callback and summary email are sent if both transfers fail.\n\n**Expected Result:**\n- Warm transfer connects to human if available.\n- Failover executed within 25 seconds.\n- Summary email logged in shared mailbox.\n- Evidence bundle recorded: call_id, transfer attempt order, targets attempted, SMS message_id (if sent), summary email message_id (if sent), final outcome.\n\n**Timing Assertions**\n- Primary attempt duration ≈ 20s timeout (±2s).\n- Secondary attempt duration ≈ 20s timeout (±2s).\n"
    },
    {
      "section_id": "test_scripts#scheduling_rescheduling",
      "heading_level": 2,
      "heading": "Test Case 4: Scheduling and Rescheduling",
      "path": "Testing and Validation > Scheduling and Rescheduling",
      "raw_markdown": "**Objective:** Validate Scoutâ€™s ability to book, reschedule, or cancel appointments in Outlook Calendar and update CRM notes.\n\n**Preconditions:**\n- Calendar integration with write permissions.\n- CRM Category tracking enabled.\n\n**Steps:**\n1. Caller requests to reschedule (\"Can we move my appointment to Friday at 9:00 AM?\").\n2. Agent confirms new time availability.\n3. Agent updates event and sends updated invite.\n\n**Expected Result:**\n- Original event replaced with updated one.\n- CRM note logs reschedule action.\n- Confirmation message delivered to caller.\n- Updated event observes timezone rules; end time = start + 1 hour default unless overridden.\n\n**Verification Dialogue:**\nCaller: \"Can we move my appointment to Friday at 9:00 AM?\"\nAgent: \"Yes, that time is open. Iâ€™ve updated your appointment and sent a new invite. Youâ€™ll get a confirmation from SherpaPrompt shortly.\"\n\n**Assertions**\n- Organizer unchanged or explicitly remapped per policy.\n- CRM note logs reschedule action with timestamp.\n"
    },
    {
      "section_id": "test_scripts#transcript_to_task",
      "heading_level": 2,
      "heading": "Test Case 5: Transcript to Task Integration",
      "path": "Testing and Validation > Transcript to Task Integration",
      "raw_markdown": "**Objective:** Verify that Scout can ingest an existing meeting transcript and extract actionable tasks.\n\n**Preconditions:**\n- Transcript upload endpoint enabled.\n- Project management connector authorized.\n\n**Steps:**\n1. Upload a meeting transcript to SherpaPromptâ€™s task processor.\n2. Ask Scout: \"Create tasks from yesterdayâ€™s meeting.\"\n3. Verify task extraction and assignment to responsible parties.\n\n**Expected Result:**\n- Tasks appear in linked PM tool (ClickUp, Asana, or Microsoft Planner).\n- CRM note references transcript ID.\n- Confirmation summary lists extracted items.\n- Task creation includes request_id in logs; each task has owner and due date.\n\n**Verification Dialogue:**\nCaller: \"Can you turn yesterdayâ€™s meeting transcript into tasks?\"\nAgent: \"Yes. Iâ€™ve imported it and created three new tasks: follow up, invoice, and call back. Youâ€™ll receive a summary shortly.\"\n"
    },
    {
      "section_id": "test_scripts#pricing_inquiry",
      "heading_level": 2,
      "heading": "Test Case 6: Pricing and Tier Inquiry",
      "path": "Testing and Validation > Pricing and Tier Inquiry",
      "raw_markdown": "**Objective:** Confirm that Scout responds accurately to questions about SherpaPrompt pricing and product tiers.\n\n**Preconditions:**\n- Pricing table stored in knowledge base.\n- CRM lead capture enabled.\n- Product Knowledge contains public \"Pricing and Trials\" section; agent configured to answer pricing verbatim.\n\n**Steps:**\n1. Caller asks about pricing (\"What does SherpaPrompt cost for a small team?\").\n2. Agent reads from knowledge base and summarizes tiers.\n3. Offer to schedule a demo or send a pricing summary.\n\n**Expected Result:**\n- Pricing response matches latest knowledge doc.\n- Lead marked as â€œInterestedâ€ in CRM.\n- Follow up invite sent.\n- Spoken/text response matches Product Knowledge pricing verbatim.\n\n**Assertions**\n- Recap (if sent) includes exact price; message_id captured.\n\n**Verification Dialogue:**\nCaller: \"What does SherpaPrompt cost for a small team?\"\nAgent: \"Our small team plan starts at 5 users and includes automation for call handling and estimates. I can send you a summary or schedule a short demoâ€"what works best for you?\"\n"
    },
    {
      "section_id": "test_scripts#faq_general",
      "heading_level": 2,
      "heading": "Test Case 7: General Information and FAQ",
      "path": "Testing and Validation > General Information and FAQ",
      "raw_markdown": "**Objective:** Verify that Scout can answer common questions accurately using SherpaPromptâ€™s general knowledge base.\n\n**Preconditions:**\n- Knowledge documents indexed and retrievable.\n- FAQ routing intent properly configured.\n\n**Steps:**\n1. Caller asks \"What does SherpaPrompt do?\" or \"How does the call service work?\"\n2. Agent retrieves summary from product_knowledge_1.1.json.\n3. Agent delivers a concise explanation and offers next step (demo, info link).\n\n**Expected Result:**\n- Response consistent with current mission and product docs.\n- Conversation logged with intent = FAQ.\n- Offer-to-demo ratio above baseline target.\n- Conversation logged with intent and source doc reference (Product Knowledge / Company Mission as applicable).\n\n**Verification Dialogue:**\nCaller: \"What does SherpaPrompt do?\"\nAgent: \"SherpaPrompt automates calls, estimates, and follow-ups for service businesses. It connects human conversations to real actionsâ€"would you like a quick walkthrough?\"\n"
    }
  ]
}